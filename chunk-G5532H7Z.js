import{a as y,b,c as x,d as I,e as L,f as w,g as B,h as N,i as D,j as T}from"./chunk-W2TWQDSU.js";import{D as l,F as a,H as r,I as n,J as s,K as g,L as c,M as m,N as C,P as v,U as _,V as F,W as E,aa as S,ca as h,w as u,y as p,z as d}from"./chunk-CYE4T7BN.js";var M=e=>({"is-invalid":e});function R(e,o){e&1&&(r(0,"div"),m(1,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E"),n())}function j(e,o){if(e&1&&(r(0,"div",16),l(1,R,2,0,"div",17),n()),e&2){let t=c();u(),a("ngIf",t.f.username.errors.required)}}function q(e,o){e&1&&(r(0,"div"),m(1,"\u041F\u0430\u0440\u043E\u043B\u044C \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u0435\u043D"),n())}function O(e,o){if(e&1&&(r(0,"div",16),l(1,q,2,0,"div",17),n()),e&2){let t=c();u(),a("ngIf",t.f.password.errors.required)}}function V(e,o){if(e&1&&(r(0,"div",18),m(1),n()),e&2){let t=c();u(),C(t.error)}}var f=class e{constructor(o,t,i){this.formBuilder=o;this.authService=t;this.router=i}loginForm;submitted=!1;error="";ngOnInit(){this.loginForm=this.formBuilder.group({username:["",b.required],password:["",b.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;let{username:o,password:t}=this.loginForm.value;this.login(o,t)}login(o,t){this.authService.loginSoap(o,t).subscribe({next:i=>{i?console.log(i):this.error="\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C"},error:i=>{this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0445\u043E\u0434\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."}})}static \u0275fac=function(t){return new(t||e)(p(N),p(T),p(S))};static \u0275cmp=d({type:e,selectors:[["app-login"]],decls:23,vars:10,consts:[[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-body","p-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"d-grid","gap-2","mb-3"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),m(5,"\u0412\u0445\u043E\u0434"),n(),r(6,"form",5),g("ngSubmit",function(){return i.onSubmit()}),r(7,"div",6)(8,"label",7),m(9,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),n(),s(10,"input",8),l(11,j,2,1,"div",9),n(),r(12,"div",6)(13,"label",10),m(14,"\u041F\u0430\u0440\u043E\u043B\u044C"),n(),s(15,"input",11),l(16,O,2,1,"div",9),n(),r(17,"div",12)(18,"button",13),m(19,"\u0412\u043E\u0439\u0442\u0438"),n(),r(20,"button",14),g("click",function(){return i.router.navigate(["/auth/register"])}),m(21,"\u041D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),n()(),l(22,V,2,1,"div",15),n()()()()()),t&2&&(u(6),a("formGroup",i.loginForm),u(4),a("ngClass",v(6,M,i.submitted&&i.f.username.errors)),u(),a("ngIf",i.submitted&&i.f.username.errors),u(4),a("ngClass",v(8,M,i.submitted&&i.f.password.errors)),u(),a("ngIf",i.submitted&&i.f.password.errors),u(6),a("ngIf",i.error))},dependencies:[D,L,y,x,I,w,B,E,_,F,h],styles:['@charset "UTF-8";']})};var A=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-login-page"]],decls:1,vars:0,template:function(t,i){t&1&&s(0,"app-login")},dependencies:[f],encapsulation:2})};export{A as LoginPage};
